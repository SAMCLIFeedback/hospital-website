// addTokens.js
const mongoose = require('mongoose');
const dotenv = require('dotenv');
dotenv.config();

const connectDB = require('./db');
const PatientToken = require('./models/PatientToken');

const allTokens = [
  "FB-A1B2C3D4E5F6A7B", "FB-8C9D0E1F2A3B4C5", "FB-6D7E8F9A0B1C2D3", "FB-4E5F6A7B8C9D0E1", "FB-2F3A4B5C6D7E8F9",
  "FB-0A1B2C3D4E5F6A7", "FB-8B9C0D1E2F3A4B5", "FB-6C7D8E9F0A1B2C3", "FB-4D5E6F7A8B9C0D1", "FB-2E3F4A5B6C7D8E9",
  "FB-1A2B3C4D5E6F7A8", "FB-9C0D1E2F3A4B5C6", "FB-7D8E9F0A1B2C3D4", "FB-5E6F7A8B9C0D1E2", "FB-3F4A5B6C7D8E9F0",
  "FB-1B2C3D4E5F6A7B8", "FB-9D0E1F2A3B4C5D6", "FB-7E8F9A0B1C2D3E4", "FB-5F6A7B8C9D0E1F2", "FB-3A4B5C6D7E8F9A0",
  "FB-4F1C7E2D8B3A6F5", "FB-9B5A3D7C1F6E8B2", "FB-2D8E6B4A9C0F1D5", "FB-7A3C5F9D2E0B8A4", "FB-5C9B1A4D6E8F3C7",
  "FB-8F2D4E0B7C6A9F1", "FB-3A6E8C2F5D1B4A9", "FB-6D0B7F3A4C8E5D2", "FB-1C4A9D5B8F7E0C6", "FB-A0F3D1B5E8C4A79",
  "FB-E1C6A9B4F3D2E7C", "FB-C4B8F7A5D2E9C1B", "FB-D2E5C3B7A1F9D6A", "FB-B7A9D6E8C3F1B4A", "FB-F9D0E2B6C8A7F5D",
  "FB-A3B5C7D9E1F3A5C", "FB-8E0F2A4B6C8D0E2", "FB-6C2D4E6F8A0B2C4", "FB-4B4C6D8E0F2A4B6", "FB-2A6B8C0D2E4F6A8",
  "FB-1F8A3C5E7D9B2F4", "FB-9E2D4F6B8A0C1D3", "FB-7C4B6D8F0E2A3C5", "FB-5B6A8C0E2D4F5B7", "FB-3D8F0C2B4A6E7D9",
  "FB-0F1A2B3C4D5E6F7", "FB-8A3B4C5D6E7F8A9", "FB-6B5C7D9E1F3A5B7", "FB-4D7E9F1A3B5C7D9", "FB-2F9A1B3C5D7E9F1",
  // Second half - visitors
  "FB-5D8A3C1F6E4B9D2", "FB-7F1C9E2D8B3A6F5", "FB-2B4D6A8E0C1F3B5", "FB-9A7C5F3D1E6B8A0", "FB-4C0B2D4F6E8A9C1",
  "FB-6E3D5B7A9C2F1E4", "FB-1A5F7C9E2D4B6A8", "FB-8C2B4D6F8E0A1C3", "FB-3D9E1F5A7B3C0D6", "FB-0F6A8B2C4D1E5F7",
  "FB-1C3B5A7D9E0F2B4", "FB-9A4F6E8C0D2B1A3", "FB-2D5B7C9E1F3A4D6", "FB-7E6F8A0B2C4D5E7", "FB-5B8D0E2F4A6B7C9",
  "FB-3C2E4F6A8B0D1E3", "FB-0E4A6C8B0D2F3E5", "FB-8F6B8D0C2A4E5F7", "FB-6A8C0E2D4B6F7A9", "FB-4B2D4F6A8C0E9B1",
  "FB-5C3E7A9B1D5F6A8", "FB-8D4F2B0C6E7D9A1", "FB-3A7C1B5D9F2E4C6", "FB-0F9E5D3C7A1B8F2", "FB-6C1B4A8F3D5E7B9",
  "FB-9E2D6B0A4C8F1D3", "FB-4B6A0C2E8D1F5B7", "FB-7D0F4C6B2A9E3D8", "FB-2A5B9D7C3F1E6A0", "FB-1F3D8C6A0B4E2F5",
  "FB-B8D4A9C1F5E3D7A", "FB-D6E9B5A3C7F1E8B", "FB-C2A4F8E0D6B1C5F", "FB-A0B6D9C5E3F7A1E", "FB-E4F1C3A7B9D5E2C",
  "FB-F2B7A5D9E3C1B4A", "FB-1E5A9D3F7C2B6A0", "FB-9C7B3D1A5E8F4C2", "FB-5D3E7F9B1C5D0E4", "FB-3B9A5C7D2E1F6B8",
  "FB-7F5C1E3D9A4B8F0", "FB-2D1B6A4C8E7F9D5", "FB-8C3A0F2D6E5B7C9", "FB-6E5F2D4A8B9C1E3", "FB-4A7B8C9D0E1F2A3",
  "FB-0F9D1E3A5C7B2F4", "FB-9D2F4A6C8B0E1D3", "FB-7C4E6B8D0A2F3C5", "FB-5B6D8F0C2E4A5B7", "FB-3A8F0B2D4C6E7A9"
];

async function insertTokens() {
  await connectDB();

  try {
    // Clear old tokens
    await PatientToken.deleteMany({});

    const tokenDocs = allTokens.map((token, index) => ({
      token,
      type: index < 50 ? 'patient' : 'visitor'
    }));

    // Add admin token
    tokenDocs.push({ token: 'AdminToken', type: 'admin' });

    await PatientToken.insertMany(tokenDocs);
    console.log(`Inserted ${tokenDocs.length} tokens (50 patient + 50 visitor + 1 admin)`);
  } catch (err) {
    console.error('Error:', err.message);
  } finally {
    mongoose.connection.close();
  }
}

insertTokens();